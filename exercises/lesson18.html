<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>exercises</title>
</head>
<body>
    <script>
        // a
        /*
       const xhr = new XMLHttpRequest();

       xhr.addEventListener('load',()=>{
        const response = xhr.response;
        console.log(response);
       })

       xhr.open("GET","https://supersimplebackend.dev/greeting");
       xhr.send();
        */
       // b

       /*
       fetch(
        'https://supersimplebackend.dev/greeting'
       ).then((response)=>{
        return response.text();
       }).then((text)=>{
        console.log(text);
       })
        */

        //c

        /*
        async function greetFetch() {
            const response = await fetch("https://supersimplebackend.dev/greeting");
            const text = await response.text();
            console.log(text);
        }

        greetFetch();
        */

        //d
        /*
        async function greetPostFetch() {
            try {
                const response = await fetch("https://supersimplebackend.dev/greeting",{
                    method: 'POST',
                    headers: {
                    'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        name: "AbdalHussain"
                    })
                });

                const text = await response.text();
            console.log(text);
            } catch (error) {
                console.log(error);
            }
        }

        greetPostFetch(); 
        */

        // 18 e

        /*
        async function amazonFetch() {
            try {
                const response = await fetch("https://amazon.com");
                const text = await response.text();
                console.log(text);   
            } catch (error) {
                console.log("CORS error. Your request was blocked by the backend");
            }
        }

        amazonFetch(); */

        // 18 f

        /*
        async function greetPostFetch() {
            try {
                const response = await fetch(
                    "https://supersimplebackend.dev/greeting",
                    { method: 'POST' },
                    { headers: {
                        'Content-Type':'application/json'
                    }}
                );

                if(response.status >= 400){
                    throw response;
                }

                const text = await response.text();
                console.log(text);

            } catch (error) {
                if(error.status === 400){
                    const errorMessage = await error.json();
                    console.log(errorMessage);
                } else {
                    console.log("Network error, Please try again");
                }
            }
        }

        greetPostFetch();  */


    </script>
</body>
</html>